<!doctype html>
<html lang="ru">

<head>
	<meta charset="utf-8">
	<title>Название лекции</title>
	<meta name="description" content="Пакентные менеджеры и системы сборки модулей">
	<meta name="keywords" content="npm, bower, nodejs, gulp, webpack">
	<meta name="author" content="Maks Hladki">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="../../css/bundle.min.css">
	<!--[if lt IE 9]>
		<script src="../../js/html5shiv.min.js"></script>
	<![endif]-->
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<section>
					<h1>Пакентные менеджеры и системы сборки модулей</h1>
					<h3>Разработка динамичесих веб приложений</h3>
					<p>
						<small>Гладкий Максим Валерьевич / <a href="https://github.com/MaksHladki/DDWA/">github:MaksHladki</a></small>
					</p>
				</section>
				<section>
					<h2>Содержание лекции</h2>
					<nav id="presentable-toc" class="table-content"></nav>
				</section>
			</section>
			<!-- Содержимое лекции -->
			<section>
				<h1>Node.js за 5 минут</h1>
			</section>
			<section>
				<section>
					<h2>Node.js</h2>
					<blockquote>
						Программная платформа, основанная на движке V8 (транслирует JS в машинный код), превращающая JavaScript из узкоспециализированного
						языка в язык общего назначения. Node.js добавляет возможность JavaScript взаимодействовать с устройствами ввода-вывода
						через свой API (написанный на C++), подключать другие внешние библиотеки, написанные на разных языках, обеспечивая
						вызовы к ним из JavaScript-кода
					</blockquote>
				</section>
				<section>
					<h3>Цель проекта</h3>
					<blockquote>
						Предоставить естественную неблокирующую, событийно-ориентированную инфраструктуру для написания программ с высокой конкурентностью»
						(с) Ryan Dahl
					</blockquote>
				</section>
				<section>
					<h3>Особенности</h3>
					<ul>
						<li>Использует Google V8 (Chromium: Google Chrome, Chrome OS...)</li>
						<li>Превращает V8 в мощную машину для серверных приложений</li>
						<li>Сохраняет философию JavaScript </li>
						<li>Event loop - неблокирующий ввод/вывод</li>
						<li>Все выполняется параллельно, кроме вашего кода </li>
					</ul>
				</section>
				<section>
					<h3>Для чего подходит Node</h3>
					<p>Много I/O </p>
					<ul>
						<li>RIA (rich internet application)</li>
						<li>API</li>
						<li>Proxy</li>
					</ul>
					<p>Realtime</p>
					<ul>
						<li>Чаты</li>
						<li>Онлайн игры</li>
						<li>Трансляции</li>
						<li>Модель Publish/Subscribe</li>
					</ul>
				</section>
				<section>
					<h3>Вспомним Event loop</h3>
					<img src="img/event-loop.png" alt="">
				</section>
				<section>
					<h3>Пример</h3>
					<pre>
						<code class="hljs">
// Загружаем модуль http
var http = require('http');

// Создаем web-сервер с обработчиком запросов
var server = http.createServer(function (req, res) {
    console.log('Начало обработки запроса');
    // Передаем код ответа и http-заголовки
    res.writeHead(200, {
        'Content-Type': 'text/plain; charset=UTF-8'
    });
    res.end('Hello world!');
});

// Запускаем web-сервер
server.listen(2002, "127.0.0.1", function () {
    console.log('Сервер запущен http://127.0.0.1:2002/');
});
						</code>
					</pre>
				</section>
				<section>
					<h3>C чего начать</h3>
					<p><a href="https://nodejs.org/">https://nodejs.org/</a></p>
					<ul>
						<li>LTS - расширенная поддержка</li>
						<li>Current - новый функционал</li>
					</ul>
				</section>
				<section>
					<h3>Hello world</h3>
					<pre>
						<code class="hljs">
>node -v // 7.2.1
>node --version //7.2.1
						</code>
					</pre>
					<pre>
						<code class="hljs">
>node
>console.log('Hello world');
//Hello world
						</code>
					</pre>
					<pre>
						<code class="hljs">
//создаем файл index.js
console.log('Hello World');

>node index.js
//Hello World
						</code>
					</pre>
				</section>
			</section>
			<section>
				<h1>Менеджер пакетов Node.js (NPM)</h1>
			</section>
			<section>
				<section>
					<h2>Node.js Package Manage</h2>
					<ul>
						<li>Создан в 2009 года open source сообществом</li>
						<li>Цель- помочь JS-разработчикам "шарить" модули с кодом</li>
						<li>Private/Public модули</li>
						<li>Command-line клиент</li>
						<li>Используется даже теми разработчиками, кто не работает с Node.js</li>
						<li>Входит в состав пакета Node.js</li>
					</ul>
				</section>
				<section>
					<h3>Минусы NPM</h3>
					<ul>
						<li>Установка небольшого пакета может привести к скачиванию еще 5-10 пакетов, на которые ссылается данный пакет</li>
						<li>Удаление автором пакета может привести к "бездействию" программистов, зависимые пакеты нельзя будет скачать</li>
					</ul>
				</section>
				<section>
					<h3>Пакеты Node.js</h3>
					<ul>
						<li>Глобальные - {prefix}/lib/node_modules/ или %AppData%\npm\node_modules</li>
						<li>Локальные - /node_modules (в той же директории, где запущен npm install)</li>
					</ul>
					<p class="text">По умолчанию npm будет устанавливать все пакеты в локальном каталоге, в которым вы сейчас работаете</p>
				</section>
				<section>
					<h3>Команды</h3>
					<small>
					<table>
					<tr>
						<td>install</td>
						<td>установка пакета</td>
					</tr>
					<tr>
						<td>search</td>
						<td>поиск пакета</td>
					</tr>
					<tr>
						<td>view</td>
						<td>просмотр инофрмации о пакете</td>
					</tr>
					<tr>
						<td>uninstall</td>
						<td>удаление пакета</td>
					</tr>
					<tr>
						<td>link</td>
						<td>устанавливает связь между пакетами</td>
					</tr>
					<tr>
						<td>unlink</td>
						<td>удаляет связь между пакетами</td>
					</tr>
					<tr>
						<td>init</td>
						<td>инициализация новго пакета</td>
					</tr>
					<tr>
						<td>publish</td>
						<td>публикация пакета в репозитории	</td>
					</tr>
					<tr>
						<td>unpublish</td>
						<td>удаление пакета из репозитория</td>
					</tr>
					<tr>
						<td>owner</td>
						<td>изменение прав доступа к пакету в репозитории</td>
					</tr>
					<tr>
						<td>adduser</td>
						<td>добавление нового пользователя</td>
					</tr>
					<tr>
						<td>list</td>
						<td>список установленных пакетов</td>
					</tr>
					<tr>
						<td>update</td>
						<td>обновление пакета либо самого npm</td>
					</tr>
					<tr>
						<td>config</td>
						<td>установка параметров конфигурации</td>
					</tr>
					</table>
					</small>
				</section>
				<section>
					<h3>Команда install</h3>
					<pre>
						<code class="hljs">
npm install 'package name'
npm install -g 'package name'	
npm install --global 'package name'
						</code>
					</pre>
					<pre>
						<code class="hljs">
npm install -g gulp
						</code>
					</pre>
					<pre>
						<code class="hljs">
npm install gulp@3.9.1
						</code>
					</pre>
				</section>
				<section>
					<h3>Еще пример</h3>
					<pre>
						<code class="hljs" data-trim>
> npm install uglify-js --global
└─┬ uglify-js@2.6.2
  ├── async@0.2.10
  ├── source-map@0.5.3
  ├── uglify-to-browserify@1.0.2
  └─┬ yargs@3.10.0
    ├── camelcase@1.2.1
    ├─┬ cliui@2.1.0
    │ ├─┬ center-align@0.1.3
    │ │ ├─┬ align-text@0.1.4
    │ │ │ ├─┬ kind-of@3.0.2
    │ │ │ │ └── is-buffer@1.1.2
    │ │ │ ├── longest@1.0.1
    │ │ │ └── repeat-string@1.5.4
    │ │ └── lazy-cache@1.0.3
    │ ├── right-align@0.1.3
    │ └── wordwrap@0.0.2
    ├─┬ decamelize@1.1.2
    │ └── escape-string-regexp@1.0.5
    └── window-size@0.1.0
						</code>
					</pre>
				</section>
				<section>
					<h3>Команда search</h3>
					<pre>
						<code class="hljs">
npm search 'package name'
//не удобно		

//лучше использовать ui интерфейс
https://www.npmjs.com/search?q=gulp
						</code>
					</pre>
				</section>
				<section>
					<h3>Команда view</h3>
					<pre>
						<code class="hljs">
npm view 'package name'
						</code>
					</pre>
					<pre>
						<code class="hljs" data-trim>
npm view gulp
//result
 { name: 'gulp',
  description: 'The streaming build system',
  'dist-tags': { latest: '3.9.1' },
  versions:
   [ '0.0.1',
     '0.0.2',
     ......
   ]
  author: 'Fractal (http://wearefractal.com/)',
  repository: { type: 'git', url: 'git+https://github.com/gulpjs/gulp.git' },
  users:
   { '6174': true,
     jden: true,
     stevelacy: true,
     qubyte: true,
     .....
   }
 }
						</code>
					</pre>
				</section>
				<section>
					<h3>Команда update</h3>
					<pre>
						<code class="hljs">
npm update [-g] 'package name' //latest version
						</code>
					</pre>
					<pre>
						<code class="hljs">
npm update -g gulp
npm update -g npm						
						</code>
					</pre>
				</section>
				<section>
					<h3>Команда Config</h3>
					<pre>
						<code class="hljs">
npm config set 'key' 'value' [--global] 
npm config get 'key' 
npm config delete 'key' 
npm config list 
npm config edit npm c [set|get|delete|list] 
npm get 'key' 
npm set 'key' 'value' [--global]
						</code>
					</pre>
					<pre>
						<code class="hljs">
npm set init.author.name "maks"
npm set init.author.email "test@gmail.com"
npm set init.author.url "https://google.com"
						</code>
					</pre>
				</section>
				<section>
					<h3>Команда uninstall</h3>
					<pre>
						<code class="hljs">
npm uninstall 'package name' [@version] [--save| [--save-dev] [--global]
//--save пакет будет удален из dependencies
//--save-dev пакет будет удален из devDependencies
						</code>
					</pre>
					<pre>
						<code class="hljs">
npm uninstall sax --save
npm uninstall gulp --global
npm uninstall node-tap --save-dev
npm uninstall dtrace-provider --save-optional
						</code>
					</pre>
				</section>
				<section>
					<h3>Команда List</h3>
					<pre>
						<code class="hljs">
npm list [--global] [--depth]
						</code>
					</pre>
					<pre>
						<code class="hljs">
$ npm list -g --depth=0
//без лишних зависимостей
├── npm@3.7.5
└── uglify-js@2.6.2
						</code>
					</pre>
				</section>
			</section>
			<section>
				<section>
					<h2>package.json</h2>
					<blockquote>
						Файл package.json содержит в себе информацию о вашем приложении: название, версия, зависимости и тому подобное. Любая директория,
						в которой есть этот файл, интерпретируется как Node.js-пакет, даже если вы не собираетесь публиковать его. Способ использования
						файла package.json зависит от того, собираетесь ли вы скачивать пакет или публиковать его.
					</blockquote>
				</section>
				<section>
					<h3>Основные поля</h3>
					<small>
						<table>
							<tr>
								<td>name</td>
								<td>имя пакета</td>
							</tr>
							<tr>
								<td>description</td>
								<td>описание пакета</td>
							</tr>
							<tr>
								<td>version</td>
								<td>версия пакета</td>
							</tr>
							<tr>
								<td>keywords</td>
								<td>набор ключевых слов</td>
							</tr>
							<tr>
								<td>authors</td>
								<td>информация об авторе пакета</td>
							</tr>
							<tr>
								<td>main</td>
								<td>главный файл пакета</td>
							</tr>
							<tr>
								<td>license</td>
								<td>тип лицензии</td>
							</tr>
							<tr>
								<td>dependencies </td>
								<td>все пакеты, от которых зависит текущий пакет (production)</td>
							</tr>
							<tr>
								<td>devDependencies </td>
								<td>все пакеты, от которых зависит текущий пакет (development)</td>
							</tr>
							<tr>
								<td>repository</td>
								<td>тип репозитория и ссылка на него</td>
							</tr>
							<tr>
								<td>config</td>
								<td>установка параметров конфигурации</td>
							</tr>
						</table>
					</small>
				</section>
				<section>
					<h3>Пример</h3>
					<pre>
						<code class="hljs" data-trim>
{
  "name": "ddwa",
  "version": "1.0.0",
  "description": "",
  "main": "index.html",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Maksim Hladki",
  "license": "MIT",
  "devDependencies": {
    "del": "^2.2.2",
    "gulp": "^3.9.1",
    "gulp-autoprefixer": "^3.1.1",
    "gulp-clean-css": "^2.3.2",
    "gulp-concat": "^2.6.1",
    "gulp-connect": "^5.0.0",
    .........
  }
}
						</code>
					</pre>
				</section>
				<section>
					<h3>Спецификация версий пакетов</h3>
					<pre>
						<code class="hljs">
{ "dependencies" :
  { 
    "foo" : "1.0.0 - 2.9999.9999",
    "bar" : "&gt;=1.0.2 &lt;2.1.2",
    "baz" : "&gt;1.0.2 &lt;=2.3.4",
    "boo" : "2.0.1",
    "qux" : "&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2 &lt;3.0.0",
    "asd" : "http://asdf.com/asdf.tar.gz",
    "til" : "~1.2",
    "elf" : "~1.2.3",// &gt= 1.2.3 &lt 1.3.0
    "tra" : "^1.2.1",// &gt= 1.2.1 &lt 2.0.0
    "two" : "2.x",
    "thr" : "3.3.x",
    "lat" : "latest",
    "dyl" : "file:../dyl"
  }
}
						</code>
					</pre>
				</section>
				<section>
					<h3>Работа с npm в VS Code</h3>
					<ul>
						<li>ext install vscode-npm (npm - Florian Knop)</li>
						<li>ext install vscode-npm-script (npm - egamma)</li>
						<li>ext install npm-intellisense (npm Intellisense - Christian Kohler)</li>
					</ul>
				</section>
				<section>
					<h3>Пример</h3>
					<img src="img/vs-code-npm.png" alt="">
				</section>
			</section>
			<section>
				<h1>bower</h1>
			</section>
			<section>
				<h2>http://nano.sapegin.ru/all/bower</h2>
			</section>
			<section>
				<h1>Gulp</h1>
			</section>
			<section>
				<h1>Webpack</h1>
			</section>
			<section>
				<h2 class="header-hide">Спасибо за внимание</h2>
				<img src="img/thanks.jpg" alt="" height="600">
			</section>
		</div>
	</div>
	<aside id="presentable-icon" class="revealjs">
		<a title="Содержание лекции" href="#/0/1">
			<i class="fa fa-list-ul fa-2x"></i>
		</a>
	</aside>
	<script src="../../js/bundle.min.js"></script>
</body>

</html>